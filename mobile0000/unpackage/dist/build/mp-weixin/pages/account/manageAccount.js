(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/account/manageAccount"],{"21a2":function(t,n,e){"use strict";e.r(n);var a=e("3126"),i=e.n(a);for(var u in a)"default"!==u&&function(t){e.d(n,t,(function(){return a[t]}))}(u);n["default"]=i.a},2308:function(t,n,e){"use strict";(function(t){e("351e"),e("921b");a(e("66fd"));var n=a(e("648a"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},3008:function(t,n,e){},3126:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){e.e("components/uni-list/uni-list").then(function(){return resolve(e("5114"))}.bind(null,e)).catch(e.oe)},i=function(){e.e("components/uni-list-item/uni-list-item").then(function(){return resolve(e("761f"))}.bind(null,e)).catch(e.oe)},u={components:{uniList:a,uniListItem:i},data:function(){return{user_id:0,accountData:{id:0,amount:0,description:"",flags:0,user_id:0},manageType:"edit"}},onLoad:function(n){var e="增加账目";this.user_id=t.getStorageSync("userDetail").id,this.accountData.user=t.getStorageSync("userDetail").id,"edit"===n.type&&(e="查看账目",this.accountData=JSON.parse(decodeURIComponent(n.data))),this.manageType=n.type,t.setNavigationBarTitle({title:e})},methods:{radioChange:function(t){this.accountData.flags=t.target.value},deleteAccount:function(n){var e=this;t.showModal({title:"提示",content:"确定要删除此记录吗？",success:function(a){a.confirm?e.util.request(e.api.ApiRoot+"users/"+t.getStorageSync("userDetail").id+"/accounts/"+n+"/",{},"DELETE").then((function(n){0===n.errno?(t.showToast({title:n.errMsg,duration:2e3}),t.navigateTo({url:"/pages/account/account"})):t.showModal({title:"提示",content:n.errMsg,success:function(n){t.navigateTo({url:"/pages/account/account"})}})})):a.cancel&&console.log("用户点击取消")}})},confirm:function(){var n=this.accountData;if(n.amount){var e=this;"edit"===e.manageType?e.util.request(e.api.ApiRoot+"users/"+this.user_id+"/accounts/"+this.accountData.id+"/",{id:this.accountData.id,amount:this.accountData.amount,description:this.accountData.description,flags:this.accountData.flags,user:this.user_id},"PUT").then((function(n){t.showToast({title:n.errMsg,content:"已保存",duration:2e3}),t.navigateTo({url:"/pages/account/account"})})):e.util.request(e.api.ApiRoot+"users/"+this.user_id+"/accounts/",{amount:this.accountData.amount,description:this.accountData.description,flags:this.accountData.flags,user:this.user_id},"POST").then((function(n){t.showToast({title:n.errMsg,content:"已保存",duration:2e3}),t.navigateTo({url:"/pages/account/account"})}))}else t.showModal({title:"提示",content:"请填写金额",success:function(t){}})}}};n.default=u}).call(this,e("543d")["default"])},"648a":function(t,n,e){"use strict";e.r(n);var a=e("82d7"),i=e("21a2");for(var u in i)"default"!==u&&function(t){e.d(n,t,(function(){return i[t]}))}(u);e("de16");var o,c=e("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);n["default"]=s.exports},"82d7":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return a}));var a={uniList:function(){return e.e("components/uni-list/uni-list").then(e.bind(null,"5114"))},uniListItem:function(){return e.e("components/uni-list-item/uni-list-item").then(e.bind(null,"761f"))}},i=function(){var t=this,n=t.$createElement;t._self._c},u=[]},de16:function(t,n,e){"use strict";var a=e("3008"),i=e.n(a);i.a}},[["2308","common/runtime","common/vendor"]]]);