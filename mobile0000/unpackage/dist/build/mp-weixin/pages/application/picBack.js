(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/application/picBack","components/uni-list-item/uni-list-item","components/uni-list/uni-list"],{5114:function(e,t,n){"use strict";n.r(t);var i=n("829c"),a=n("9332");for(var u in a)"default"!==u&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n("8d51");var r,o=n("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"37fda36d",null,!1,i["a"],r);t["default"]=c.exports},5282:function(e,t,n){},"5c6b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"UniList","mp-weixin":{options:{multipleSlots:!1}},props:{enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1}},provide:function(){return{list:this}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(e){this.$emit("scrolltolower")}}};t.default=i},7028:function(e,t,n){"use strict";(function(e){n("351e"),n("921b");i(n("66fd"));var t=i(n("8dd9"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"713f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){Promise.all([n.e("common/vendor"),n.e("components/uni-icons/uni-icons")]).then(function(){return resolve(n("a081"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("components/uni-badge/uni-badge").then(function(){return resolve(n("22ae"))}.bind(null,n)).catch(n.oe)},u={name:"UniListItem",components:{uniIcons:i,uniBadge:a},props:{title:{type:String,default:""},note:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},showArrow:{type:[Boolean,String],default:!0},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},rightText:{type:String,default:""},thumb:{type:String,default:""},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"contact",color:"#000000",size:20}}}},inject:["list"],data:function(){return{isFirstChild:!1}},mounted:function(){this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0)},methods:{onClick:function(){this.$emit("click")},onSwitchChange:function(e){this.$emit("switchChange",e.detail)}}};t.default=u},"761f":function(e,t,n){"use strict";n.r(t);var i=n("9cfb"),a=n("cbfd");for(var u in a)"default"!==u&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n("a0bb");var r,o=n("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"5b7f4021",null,!1,i["a"],r);t["default"]=c.exports},"7a41":function(e,t,n){"use strict";n.r(t);var i=n("d3ac"),a=n.n(i);for(var u in i)"default"!==u&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=a.a},"829c":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement;e._self._c},u=[]},"8d51":function(e,t,n){"use strict";var i=n("dd7b"),a=n.n(i);a.a},"8dd9":function(e,t,n){"use strict";n.r(t);var i=n("ae0b"),a=n("7a41");for(var u in a)"default"!==u&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n("93ae");var r,o=n("f0c5"),c=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=c.exports},9332:function(e,t,n){"use strict";n.r(t);var i=n("5c6b"),a=n.n(i);for(var u in i)"default"!==u&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=a.a},"93ae":function(e,t,n){"use strict";var i=n("edc7"),a=n.n(i);a.a},"9cfb":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var i={uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-icons/uni-icons")]).then(n.bind(null,"a081"))},uniBadge:function(){return n.e("components/uni-badge/uni-badge").then(n.bind(null,"22ae"))}},a=function(){var e=this,t=e.$createElement;e._self._c},u=[]},a0bb:function(e,t,n){"use strict";var i=n("5282"),a=n.n(i);a.a},ae0b:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement;e._self._c},u=[]},cbfd:function(e,t,n){"use strict";n.r(t);var i=n("713f"),a=n.n(i);for(var u in i)"default"!==u&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=a.a},d3ac:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n("a34a")),a=(u(n("5114")),u(n("761f")),u(n("aa1e")));function u(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,i,a,u,r){try{var o=e[u](r),c=o.value}catch(s){return void n(s)}o.done?t(c):Promise.resolve(c).then(i,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var u=e.apply(t,n);function r(e){o(u,i,a,r,c,"next",e)}function c(e){o(u,i,a,r,c,"throw",e)}r(void 0)}))}}var s=[["camera"],["album"],["camera","album"]],l=[["compressed"],["original"],["compressed","original"]],f={data:function(){return{flag:0,title:"上传证件正面照",imageList:[],imageSrc:"",sub_imageSrc:"/static/missing-face.png",sourceTypeIndex:2,sourceType:["拍照","相册","拍照或相册"],sizeTypeIndex:2,sizeType:["压缩","原图","压缩或原图"],countIndex:0}},onUnload:function(){this.imageList=[],this.imageFile="",this.sourceTypeIndex=2,this.sourceType=["拍照","相册","拍照或相册"],this.sizeTypeIndex=2,this.sizeType=["压缩","原图","压缩或原图"],this.countIndex=0},methods:{onLoad:function(e){var t=e.img_url;""==t?this.flag=0:(this.flag=1,this.imageList.push(t),this.imageSrc=t)},sourceTypeChange:function(e){this.sourceTypeIndex=parseInt(e.detail.value)},sizeTypeChange:function(e){this.sizeTypeIndex=parseInt(e.detail.value)},countChange:function(e){this.countIndex=e.detail.value},chooseImage:function(){var t=c(i.default.mark((function t(){var n,a,u=this;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(9!==this.imageList.length){t.next=7;break}return t.next=3,this.isFullImg();case 3:if(a=t.sent,console.log("是否继续?",a),a){t.next=7;break}return t.abrupt("return");case 7:e.chooseImage((n={sourceType:s[this.sourceTypeIndex],sizeType:l[this.sizeTypeIndex],count:1},r(n,"sourceType",["album"]),r(n,"success",(function(t){var n=t.tempFilePaths,i=n[0];console.log(i);var a=e.getStorageSync("userDetail").wx_open_id;console.log(a);var r=u;e.uploadFile({url:"https://api.kaihuangliulian.com/v1/upload",filePath:i,name:"image",formData:{open_id:e.getStorageSync("userDetail").wx_open_id},success:function(t){console.log(t),console.log(t.data),console.log(JSON.parse(t.data));var n=JSON.parse(t.data);r.flag=1,r.imageList[0]=n.url;var i=getCurrentPages(),a=i[i.length-2];a.$vm.applicationData.idc_back_pic_url=n.url,e.navigateBack()}})})),r(n,"fail",(function(t){e.getSetting({success:function(t){var n=!1;switch(u.sourceTypeIndex){case 0:n=t.authSetting["scope.camera"];break;case 1:n=t.authSetting["scope.album"];break;case 2:n=t.authSetting["scope.album"]&&t.authSetting["scope.camera"];break;default:break}n||e.showModal({title:"授权失败",content:"Hello uni-app需要从您的相机或相册获取图片，请在设置界面打开相关权限",success:function(t){t.confirm&&e.openSetting()}})}})})),n));case 8:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),previewImage:function(t){var n=t.target.dataset.src;e.previewImage({current:n,urls:this.imageList,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮,第"+(e.index+1)+"张图片")},fail:function(e){console.log(e.errMsg)}}})},checkPermission:function(t){var n=this;return c(i.default.mark((function u(){var r,o;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=t?t-1:n.sourceTypeIndex,!a.default.isIOS){i.next=7;break}return i.next=4,a.default.requestIOS(s[r][0]);case 4:i.t0=i.sent,i.next=10;break;case 7:return i.next=9,a.default.requestAndroid(0===r?"android.permission.CAMERA":"android.permission.READ_EXTERNAL_STORAGE");case 9:i.t0=i.sent;case 10:return o=i.t0,null===o||1===o?o=1:e.showModal({content:"没有开启权限",confirmText:"设置",success:function(e){e.confirm&&a.default.gotoAppSetting()}}),i.abrupt("return",o);case 13:case"end":return i.stop()}}),u)})))()}}};t.default=f}).call(this,n("543d")["default"])},dd7b:function(e,t,n){},edc7:function(e,t,n){}},[["7028","common/runtime","common/vendor"]]]);